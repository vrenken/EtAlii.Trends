@page "/"
@using Syncfusion.Blazor.Navigations
@using Syncfusion.Blazor.Layouts

@inject IJSRuntime JsRuntime


<SfSplitter Height="100%" Width="100%" SeparatorSize=4>
    <SplitterPanes>
        <SplitterPane Size="200px" Min="20%" Max="40%">
            <ContentTemplate>
            <SfTreeView TValue="Layer" ShowCheckBox="true" AutoCheck="true">
                <TreeViewFieldsSettings TValue="Layer" Id="Id" DataSource="@_layers" Text="Name" ParentID="ParentId" HasChildren="HasChild" Expanded="Expanded" IsChecked="IsChecked"></TreeViewFieldsSettings>
            </SfTreeView>
            </ContentTemplate>
        </SplitterPane>
        <SplitterPane Size="200px" Min="30%" Max="60%">
            <ContentTemplate>
                <SfToolbar @ref="@_toolbar" Height="@_toolbarHeight" Width="100%">
                    <ToolbarItems>
                        <ToolbarItem @ref="@_zoomInItem" TooltipText="ZoomIn"  CssClass="@_zoomInItemCssClass" PrefixIcon="e-icons e-zoom-in" OnClick="@OnZoomInItemClick"></ToolbarItem>
                        <ToolbarItem @ref="@_zoomOutItem" TooltipText="ZoomOut" CssClass="@_zoomOutItemCssClass" PrefixIcon="e-icons e-zoom-out" OnClick="@OnZoomOutItemClick"></ToolbarItem>
                        <ToolbarItem Type="ItemType.Separator"></ToolbarItem>
                        <ToolbarItem @ref="@_panItem" PrefixIcon="e-icons e-pan" CssClass="@_panItemCssClass" TooltipText="Pan Tool" OnClick="@OnPanClick"></ToolbarItem>
                        <ToolbarItem @ref="@_pointerItem" PrefixIcon="e-icons e-mouse-pointer" CssClass="@_pointerItemCssClass" TooltipText="Pointer" OnClick="@OnPointerClick"></ToolbarItem>
                        <ToolbarItem Type="ItemType.Separator"></ToolbarItem>
                        <ToolbarItem @ref="@_viewItem" CssClass="@_viewCssClass" Disabled="@_view" PrefixIcon="e-icons e-bring-to-view" TooltipText="Bring into view" OnClick="@OnBringIntoViewClick">
                        </ToolbarItem>
                        <ToolbarItem @ref="@_centerItem" CssClass="@_centerCssClass" Disabled="@_center" PrefixIcon="e-icons e-bring-to-center" TooltipText="Bring into center" OnClick="@OnBringIntoCenterClick">
                        </ToolbarItem>
                        <ToolbarItem Type="ItemType.Separator"></ToolbarItem>
                        <ToolbarItem @ref="@_fitToPageItem" CssClass="@_fitCssClass" OnClick="@OnFitToPageClick" PrefixIcon="e-icons e-zoom-to-fit" TooltipText="Fit To Page">
                        </ToolbarItem>
                    </ToolbarItems>
                </SfToolbar>
                <SfDiagramComponent
                    @ref="@_diagram"
                    Width="100%"
                    Height="@_diagramHeight"
                    InteractionController="@_diagramTool"
                    ConnectorCreating="@ConnectorDefaults"
                    NodeCreating="@NodeDefaults">
                    <DataSourceSettings ID="Name" ParentID="Category" DataSource="_dataSource"/>
                    <Layout @bind-Type="_type"
                            @bind-HorizontalSpacing="@_horizontalSpacing"
                            @bind-Orientation="@_orientation"
                            @bind-VerticalSpacing="@_verticalSpacing"
                            @bind-HorizontalAlignment="@_horizontalAlignment"
                            @bind-VerticalAlignment="@_verticalAlignment"
                            GetLayoutInfo="GetLayoutInfo">
                        <LayoutMargin Top="50" Bottom="50" Right="50" Left="50"/>
                    </Layout>
                </SfDiagramComponent>
            </ContentTemplate>
        </SplitterPane>
    </SplitterPanes>
</SfSplitter>

<style>
    .content {
        padding: 10px;
    }
</style>
